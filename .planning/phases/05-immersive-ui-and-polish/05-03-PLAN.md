---
phase: 05-immersive-ui-and-polish
plan: 03
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - src/pages/AdminSession.tsx
  - src/components/BarChart.tsx
  - src/components/AdminQuestionControl.tsx
autonomous: true

must_haves:
  truths:
    - "Admin page uses a light background (white/light gray) instead of dark gray-950"
    - "Admin results display uses larger fonts, more padding, and bigger bar chart optimized for projection readability"
    - "BarChart component accepts a size prop that switches between default and large layout"
    - "Admin page keeps functional Tailwind transitions (no Motion animations on admin controls)"
  artifacts:
    - path: "src/components/BarChart.tsx"
      provides: "Bar chart with optional large/projection-friendly size variant"
      exports: ["BarChart", "AGREE_DISAGREE_COLORS", "MULTI_CHOICE_COLORS"]
    - path: "src/pages/AdminSession.tsx"
      provides: "Light-themed admin page with projection-optimized results"
      min_lines: 200
    - path: "src/components/AdminQuestionControl.tsx"
      provides: "Admin question control with projectionMode prop for large BarChart"
  key_links:
    - from: "src/pages/AdminSession.tsx"
      to: "src/components/AdminQuestionControl.tsx"
      via: "projectionMode prop passed to AdminQuestionControl"
      pattern: "projectionMode"
    - from: "src/components/AdminQuestionControl.tsx"
      to: "src/components/BarChart.tsx"
      via: "BarChart size prop controlled by projectionMode"
      pattern: "size=.*large"
---

<objective>
Restyle the AdminSession page to use a light theme and optimize the results display for projection readability. Add a `size` prop to the BarChart component for a larger, bolder projection variant, plumbed through AdminQuestionControl via a `projectionMode` prop.

Purpose: Satisfies the "admin stays light/functional" and "admin results display: large & bold, optimized for projection/readability from distance" decisions from CONTEXT.md. This is the admin half of UIEX-02 (responsive design).
Output: AdminSession.tsx with light theme, BarChart.tsx with size="large" variant, AdminQuestionControl.tsx with projectionMode pass-through.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-immersive-ui-and-polish/05-CONTEXT.md
@.planning/phases/05-immersive-ui-and-polish/05-RESEARCH.md

Key existing files:
@src/pages/AdminSession.tsx
@src/components/BarChart.tsx
@src/components/AdminQuestionControl.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add size variant to BarChart component</name>
  <files>src/components/BarChart.tsx</files>
  <action>
Add an optional `size` prop to BarChart that switches between the default compact view and a large projection-friendly view.

1. Update the `BarChartProps` interface:
   ```ts
   interface BarChartProps {
     data: BarChartData[];
     totalVotes?: number;
     size?: 'default' | 'large';
   }
   ```

2. In the component, derive layout values from size:
   ```ts
   const isLarge = size === 'large';
   ```

3. Apply conditionally via ternary expressions in className and style:
   - Container height: `isLarge ? 400 : 300`
   - Gap: `isLarge ? 'gap-8' : 'gap-6'`
   - Count label: `isLarge ? 'text-lg font-bold text-white' : 'text-sm font-medium text-white'`
   - Option label: `isLarge ? 'text-base font-medium text-gray-200' : 'text-sm text-gray-300'`
   - Max width per bar: `isLarge ? 160 : 120`
   - Total votes text: `isLarge ? 'text-sm text-gray-400' : 'text-xs text-gray-500'`
   - Bar rounded corners: `isLarge ? 'rounded-t-xl' : 'rounded-t-lg'`

4. Keep the CSS height transition (`transition: 'height 0.5s ease-out'`) unchanged.

5. Preserve all existing exports unchanged: `BarChart`, `AGREE_DISAGREE_COLORS`, `MULTI_CHOICE_COLORS`.

**What NOT to change:** Color constants, BarChartData interface, default behavior when no size prop is passed.
  </action>
  <verify>
Run `npx tsc --noEmit` to confirm no TypeScript errors.
Grep BarChart.tsx for "size" to confirm the prop exists.
  </verify>
  <done>BarChart accepts optional size prop. size="large" renders taller bars (400px), larger labels, bigger gap. Default renders identically to before. Build passes.</done>
</task>

<task type="auto">
  <name>Task 2: Restyle AdminSession to light theme with projection-friendly layout</name>
  <files>src/pages/AdminSession.tsx, src/components/AdminQuestionControl.tsx</files>
  <action>
Transform AdminSession from dark theme to light theme and plumb projectionMode through to AdminQuestionControl for large BarChart rendering.

**Part A: AdminQuestionControl.tsx -- add projectionMode prop**

1. Add `projectionMode?: boolean` to the `AdminQuestionControlProps` interface
2. Destructure `projectionMode` from props
3. Pass `size={projectionMode ? 'large' : 'default'}` to the `<BarChart>` component in the showResults section
4. When `projectionMode` is true, use `text-base` instead of `text-sm` for the vote count display in the active state
5. Also apply light theme to AdminQuestionControl's internal elements:
   - `text-gray-300` -> `text-gray-700` (vote count text, secondary text)
   - `text-gray-500` -> `text-gray-400` (muted text like "No votes yet", "No votes recorded")
   - `text-gray-400` -> `text-gray-500` (label text like "Voter details")
   - `bg-gray-700 text-gray-300` (anonymous badge) -> `bg-gray-200 text-gray-700`
   - `bg-amber-900 text-amber-300` (named badge) -> `bg-amber-100 text-amber-700`
   - `text-indigo-400 hover:text-indigo-300` -> `text-indigo-600 hover:text-indigo-700` (show breakdown toggle)
   - `border-gray-700` -> `border-gray-300` (voter details divider)
   - Voter detail names: `text-gray-400` -> `text-gray-500`
   - Voter detail values: `text-gray-300` -> `text-gray-700`
   - Button colors (green Start, red Close) can stay as-is -- they work on light backgrounds

**Part B: AdminSession.tsx -- light theme conversion**

Replace dark Tailwind classes throughout the component:

Backgrounds:
- `bg-gray-950` -> `bg-gray-50` (page background, loading/error states)
- `bg-gray-900` -> `bg-white` (card backgrounds)
- `bg-gray-800` -> `bg-gray-100` (nested elements, inputs, question items)

Borders:
- `border-gray-700` -> `border-gray-300`
- `border-gray-600` -> `border-gray-400`
- `border-green-600` -> `border-green-500`

Text:
- `text-white` -> `text-gray-900` (primary text: titles, question text)
- `text-gray-300` -> `text-gray-700` (secondary text)
- `text-gray-400` -> `text-gray-500` (muted text, labels)
- `text-gray-500` -> `text-gray-400` (very muted text)

Status badge colors (statusColors object):
- draft: `bg-gray-200 text-gray-700`
- lobby: `bg-yellow-100 text-yellow-800`
- active: `bg-green-100 text-green-800`
- ended: `bg-red-100 text-red-800`

Question type badges:
- `bg-indigo-900 text-indigo-300` -> `bg-indigo-100 text-indigo-700`
- `bg-emerald-900 text-emerald-300` -> `bg-emerald-100 text-emerald-700`

Question status badges:
- `bg-green-900 text-green-300` -> `bg-green-100 text-green-700`
- `bg-gray-600 text-gray-300` -> `bg-gray-200 text-gray-600`
- `bg-gray-700 text-gray-400` -> `bg-gray-100 text-gray-500`

Disabled button states:
- `disabled:bg-green-800` -> `disabled:bg-green-300`
- `disabled:bg-yellow-800` -> `disabled:bg-yellow-300`
- `disabled:bg-red-800` -> `disabled:bg-red-300`

Privacy toggle badges (draft mode):
- `bg-gray-700 text-gray-300` -> `bg-gray-200 text-gray-700`
- `bg-amber-900 text-amber-300` -> `bg-amber-100 text-amber-700`

Links:
- `text-indigo-400 hover:text-indigo-300` -> `text-indigo-600 hover:text-indigo-700`
- `text-gray-400 hover:text-white` -> `text-gray-500 hover:text-gray-900`

Input field: `bg-gray-800 border-gray-700 text-gray-300` -> `bg-gray-100 border-gray-300 text-gray-700`

Option pills: `bg-gray-700 text-gray-300` -> `bg-gray-200 text-gray-600`

**Part C: Pass projectionMode to AdminQuestionControl**

In the live question list rendering, pass `projectionMode={true}` to each `<AdminQuestionControl>`:
```tsx
<AdminQuestionControl
  question={q}
  sessionId={session.session_id}
  isActive={q.status === 'active'}
  isClosed={q.status === 'closed' || q.status === 'revealed'}
  channelRef={channelRef}
  votes={sessionVotes[q.id] ?? []}
  projectionMode
/>
```

**What NOT to change:**
- Do NOT add Motion animations to admin components
- Do NOT change state management, data fetching, or broadcast logic
- Do NOT change ConnectionBanner usage (admin keeps the banner)
- Do NOT change QR code overlay behavior
  </action>
  <verify>
Run `npx tsc --noEmit` to confirm no TypeScript errors.
Grep AdminSession.tsx for "bg-gray-950" -- should find zero matches (dark backgrounds removed).
Grep AdminSession.tsx for "bg-gray-50" -- should find matches (light background applied).
Grep AdminSession.tsx for "projectionMode" -- should find matches.
Grep AdminQuestionControl.tsx for "projectionMode" -- should find the prop and the BarChart size pass-through.
  </verify>
  <done>AdminSession uses light theme (bg-gray-50 page, bg-white cards, gray-900 text). All badges, borders, text updated for light background. AdminQuestionControl accepts projectionMode and renders BarChart with size="large". Build passes.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. AdminSession.tsx has no `bg-gray-950` backgrounds (fully light-themed)
3. AdminSession.tsx passes `projectionMode` to AdminQuestionControl
4. AdminQuestionControl.tsx accepts `projectionMode` prop and passes `size` to BarChart
5. BarChart.tsx accepts `size` prop with `'default' | 'large'` options
6. BarChart default behavior unchanged (no size prop = identical to previous)
7. AdminQuestionControl also converted to light theme colors
</verification>

<success_criteria>
- Admin page has light background clearly distinct from participant dark theme
- Status badges, text, borders all readable on light background
- BarChart size="large" variant has taller bars and bigger labels for projection
- Live/ended results use projection-friendly large layout
- No Motion animations on admin side
- Build passes with zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-immersive-ui-and-polish/05-03-SUMMARY.md`
</output>
