---
phase: 22-template-foundation-authoring
plan: 04
type: execute
wave: 3
depends_on: ["22-02", "22-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Admin can open template editor and toggle between edit and preview modes"
    - "Admin can edit batch questions inline within sequence (not separate panel)"
    - "Admin can click slide thumbnail to view full image in lightbox"
    - "Admin can create quick one-off session without template editor"
    - "Batch timer duration is configurable via free-form input in template"
  artifacts: []
  key_links: []
---

<objective>
Verify all Phase 22 requirements end-to-end: template editor with inline editing, edit/preview toggle, lightbox, quick session flow, and timer configuration.

Purpose: Human verification that all AUTH requirements (AUTH-01, AUTH-02, AUTH-06, AUTH-07, AUTH-08, AUTH-09) work correctly before marking phase complete.

Output: Verification confirmation or list of issues to address.
</objective>

<execution_context>
@C:/Users/cramo/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/cramo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/22-template-foundation-authoring/22-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify Phase 22 Template Editor</name>
  <what-built>
    Complete template editor with:
    - Full-page editor at /templates/new and /templates/:id/edit (AUTH-01)
    - Edit/Preview toggle with sequence walkthrough (AUTH-02)
    - Inline batch question editing with collapsed/expanded rows (AUTH-06)
    - Slide image lightbox on click (AUTH-07)
    - Quick session flow from Home page (AUTH-08)
    - Batch timer duration input (AUTH-09)
  </what-built>
  <how-to-verify>
    **AUTH-01: Template Editor**
    1. Navigate to Home page
    2. Click "Create New" — should open /templates/new with empty editor
    3. Verify toolbar shows: back arrow, editable name, Add Batch, Add Slide, Upload Image, Save Template, Start Session, Edit/Preview toggle
    4. Verify sidebar shows empty state with guidance
    5. Add 2 batches and 1 slide — verify they appear in sidebar with type icons and summaries
    6. Drag items in sidebar to reorder — verify order updates
    7. Edit template name in toolbar — verify it updates
    8. Click Save Template — verify template saved (check Supabase or reload page)

    **AUTH-02: Edit/Preview Toggle**
    9. Click "Preview" in the toggle — sidebar should hide, first item should display full-width
    10. Click Next/Previous — should step through sequence items
    11. Use ArrowLeft/ArrowRight keys — should navigate
    12. Click "Edit" — sidebar should return

    **AUTH-06: Inline Batch Editing**
    13. Select a batch in sidebar — main area shows question list
    14. Click "Add Question" — new question appears expanded with all fields
    15. Edit question text, change type to multiple_choice, add options
    16. Click another question to expand it (first should be viewable)
    17. Drag questions to reorder (collapsed rows)
    18. Verify sidebar shows updated question count

    **AUTH-07: Slide Lightbox**
    19. Select a slide with an uploaded image
    20. Click the image in the main area — lightbox overlay should open with full-size image
    21. Close lightbox (click X or click outside)
    22. In sidebar, click a slide thumbnail — lightbox should open

    **AUTH-08: Quick Session**
    23. Go back to Home page
    24. Click "Quick Session" — should create session directly (existing behavior)
    25. Go back to Home, click "Create New" — should open template editor
    26. Build some content, click "Start Session" — should create a session and navigate to admin view
    27. If templates exist, try "New from Template" — should open editor with template copy

    **AUTH-09: Timer Duration**
    28. Select a batch, find the timer duration input in the batch header
    29. Enter 90 — should show "= 1m 30s"
    30. Save template and reload — timer value should persist
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
All Phase 22 success criteria verified by human:
1. Admin can open template editor and toggle between edit and preview modes
2. Admin can edit batch questions inline within sequence (not separate panel)
3. Admin can click slide thumbnail to view full image in lightbox
4. Admin can create quick one-off session without template editor
5. Batch timer duration is configurable via free-form input in template
</verification>

<success_criteria>
- Human approves all AUTH-01, AUTH-02, AUTH-06, AUTH-07, AUTH-08, AUTH-09 verifications
- No blocking issues identified
</success_criteria>

<output>
After completion, create `.planning/phases/22-template-foundation-authoring/22-04-SUMMARY.md`
</output>
